apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-go-app-deployment
spec:
  replicas: 1
  selector:
    matchLabels:
      app: my-go-app
  template:
    metadata:
      labels:
        app: my-go-app
    spec:
      containers:
      - name: my-go-app-container
        image: ale09155/sentinel-monitor:latest 
        imagePullPolicy: Always
        # ğŸ‘‡ã€åŠ¨ä½œã€‘ï¼šåŒ…å·¥å¤´ï¼ŒæŠŠä¸‹é¢é‚£ä¸ªå« app-config çš„ U ç›˜ï¼Œæ’åˆ°å®¹å™¨çš„ /root/ ç›®å½•ä¸‹ï¼
        volumeMounts:
        - name: app-config-volume       # å¯¹åº”ä¸‹é¢ U ç›˜çš„åå­—
          mountPath: /root/configs/config.yaml  # ä½ çš„ Go ç¨‹åºå»å“ªé‡Œæ‰¾é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œå°±å¡«å“ªé‡Œï¼
          subPath: config.yaml          # åªæŒ‚è½½æ–‡ä»¶æœ¬èº«ï¼Œä¸è¦†ç›–æ•´ä¸ªæ–‡ä»¶å¤¹
      
      # ğŸ‘‡ã€å£°æ˜ã€‘ï¼šåŒ…å·¥å¤´ï¼Œæˆ‘è¦å®šä¹‰ä¸€ä¸ªå« app-config çš„ U ç›˜ï¼Œå®ƒçš„å†…å®¹æ¥è‡ªåå« my-go-app-config çš„ ConfigMapï¼
      volumes:
      - name: app-config-volume
        configMap:
          name: my-go-app-config        # è¿™æ˜¯ä½ åœ¨ K3s ä¸»è„‘ä¸Šç”¨ kubectl create configmap å‘½ä»¤åˆ›å»ºçš„åå­—